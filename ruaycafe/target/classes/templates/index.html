<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏£‡∏ß‡∏¢‡∏Ñ‡∏≤‡πÄ‡∏ü‡πà POS - Startup Edition</title>
    <link rel="stylesheet" type="text/css" th:href="@{/css/style.css}" />
</head>
<body>
<div class="container">
    <div class="menu-section">
        <div class="menu-grid" id="menuGrid">
            <!-- Menu items -->
            <div class="menu-item" th:each="p : ${products}" th:attr="data-id=${p.id}" onclick="openCustomizeModal(this)">
                <img th:src="@{${p.image}}" th:alt="${p.name}">
                <div class="menu-item-info">
                    <div class="menu-item-name" th:text="${p.name}">‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</div>
                    <div class="menu-item-price" th:text="'‡∏ø' + ${p.price}">‡∏ø0</div>
                    <div class="menu-item-prices">
                        <span class="menu-item-cost" th:text="'‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô ‡∏ø' + ${p.calculateCost()}">‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô ‡∏ø0</span>
                        <span class="menu-item-profit" th:text="'+‡∏ø' + ${p.calculateProfit()}">+‡∏ø0</span>
                    </div>
                </div>
                <div class="menu-item-edit">
                    <button type="button" class="btn-edit">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
                    <button type="button" class="btn-delete">‡∏•‡∏ö</button>
                </div>
            </div>

            <!-- Add menu button -->
            <div class="menu-add-item" onclick="openAddMenuModal()">
                <div class="add-item-content">
                    <div style="font-size: 36px; color: #667eea;">Ôºã</div>
                    <div style="margin-top: 8px; font-weight: 600; color: #2c3e50;">‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏°‡∏ô‡∏π</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Order Section -->
    <div class="order-section">
        <div class="order-header">
            <h2>‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠</h2>
            <div class="order-number">Order #<span id="orderNumber">001</span></div>
        </div>

        <div class="order-items" id="orderItems">
            <div class="empty-cart">
                <div style="font-size: 60px; margin-bottom: 15px;">üõí</div>
                <div>‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠</div>
                <div style="font-size: 12px; color: #bbb; margin-top: 8px;">‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏°‡∏ô‡∏π‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</div>
            </div>
        </div>

        <div class="order-summary">
            <div class="summary-row">
                <span>‡∏£‡∏ß‡∏°‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ (<span id="itemCount">0</span>)</span>
                <span id="subtotal">‡∏ø0</span>
            </div>
            <div class="summary-row">
                <span>‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î</span>
                <span id="discount">‡∏ø0</span>
            </div>
            <div class="summary-row">
                <span>‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô‡∏£‡∏ß‡∏°</span>
                <span id="totalCost">‡∏ø0</span>
            </div>
            <div class="summary-row profit">
                <span>üí∞ ‡∏Å‡∏≥‡πÑ‡∏£</span>
                <span id="totalProfit">‡∏ø0</span>
            </div>
            <div class="summary-row total">
                <span>‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</span>
                <span id="total">‡∏ø0</span>
            </div>
            <button class="btn-checkout" onclick="checkout()">‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô</button>
        </div>
    </div>
</div>

  <!-- Customize Modal -->
    <div id="customizeModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modalProductName">‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏°‡∏ô‡∏π</h3>
                <div style="font-size: 14px; opacity: 0.9;">‡∏õ‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏á‡∏ï‡∏≤‡∏°‡πÉ‡∏à‡∏Ñ‡∏∏‡∏ì</div>
            </div>
            
            <div class="modal-body">
                <!-- Size Selection -->
                <div class="customize-section">
                    <h4>ü•§ ‡∏Ç‡∏ô‡∏≤‡∏î</h4>
                    <div class="size-options">
                        <div class="size-option" data-size="small" onclick="selectSize('small')">
                            <div style="font-size: 20px;">S</div>
                            <div style="font-size: 12px; margin-top: 5px;">‡πÄ‡∏•‡πá‡∏Å</div>
                            <div style="font-size: 12px; color: #667eea;">+‡∏ø0</div>
                        </div>
                        <div class="size-option active" data-size="medium" onclick="selectSize('medium')">
                            <div style="font-size: 20px;">M</div>
                            <div style="font-size: 12px; margin-top: 5px;">‡∏Å‡∏•‡∏≤‡∏á</div>
                            <div style="font-size: 12px; color: #667eea;">+‡∏ø10</div>
                        </div>
                        <div class="size-option" data-size="large" onclick="selectSize('large')">
                            <div style="font-size: 20px;">L</div>
                            <div style="font-size: 12px; margin-top: 5px;">‡πÉ‡∏´‡∏ç‡πà</div>
                            <div style="font-size: 12px; color: #667eea;">+‡∏ø20</div>
                        </div>
                    </div>
                </div>

                <!-- Sweet Level -->
                <div class="customize-section">
                    <h4>üçØ ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏ß‡∏≤‡∏ô</h4>
                    <div class="slider-container">
                        <div class="slider-label">
                            <span>‡πÑ‡∏°‡πà‡∏´‡∏ß‡∏≤‡∏ô</span>
                            <span id="sweetValue">100%</span>
                        </div>
                        <input type="range" class="slider" id="sweetLevel" min="0" max="100" value="100" 
                               oninput="updateSliderValue('sweetValue', this.value)">
                    </div>
                </div>

                <!-- Ice Level -->
                <div class="customize-section">
                    <h4>üßä ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ô‡πâ‡∏≥‡πÅ‡∏Ç‡πá‡∏á</h4>
                    <div class="slider-container">
                        <div class="slider-label">
                            <span>‡πÑ‡∏°‡πà‡πÉ‡∏™‡πà</span>
                            <span id="iceValue">100%</span>
                        </div>
                        <input type="range" class="slider" id="iceLevel" min="0" max="100" value="100"
                               oninput="updateSliderValue('iceValue', this.value)">
                    </div>
                </div>

                <!-- Add-ons -->
                <div class="customize-section">
                    <h4>‚ûï ‡∏™‡πà‡∏ß‡∏ô‡∏ú‡∏™‡∏°‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°</h4>
                    <div class="addon-list" id="addonList">
                        <div class="addon-item" onclick="toggleAddon(this, 1)">
                            <input type="checkbox" class="addon-checkbox" data-addon-id="1">
                            <div class="addon-info">
                                <div class="addon-name">‡∏ä‡πá‡∏≠‡∏ï‡πÄ‡∏û‡∏¥‡πà‡∏° (Espresso)</div>
                                <div style="font-size: 12px; color: #999;">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ç‡πâ‡∏°‡∏Ç‡πâ‡∏ô</div>
                            </div>
                            <div class="addon-price">+‡∏ø20</div>
                        </div>
                        <div class="addon-item" onclick="toggleAddon(this, 2)">
                            <input type="checkbox" class="addon-checkbox" data-addon-id="2">
                            <div class="addon-info">
                                <div class="addon-name">‡∏ß‡∏¥‡∏õ‡∏Ñ‡∏£‡∏µ‡∏°</div>
                                <div style="font-size: 12px; color: #999;">‡∏´‡∏≠‡∏°‡∏ô‡∏∏‡πà‡∏°‡∏•‡∏¥‡πâ‡∏ô</div>
                            </div>
                            <div class="addon-price">+‡∏ø15</div>
                        </div>
                        <div class="addon-item" onclick="toggleAddon(this, 3)">
                            <input type="checkbox" class="addon-checkbox" data-addon-id="3">
                            <div class="addon-info">
                                <div class="addon-name">‡πÑ‡∏Ç‡πà‡∏°‡∏∏‡∏Å</div>
                                <div style="font-size: 12px; color: #999;">‡πÄ‡∏Ñ‡∏µ‡πâ‡∏¢‡∏ß‡∏´‡∏ô‡∏∂‡∏ö</div>
                            </div>
                            <div class="addon-price">+‡∏ø10</div>
                        </div>
                        <div class="addon-item" onclick="toggleAddon(this, 4)">
                            <input type="checkbox" class="addon-checkbox" data-addon-id="4">
                            <div class="addon-info">
                                <div class="addon-name">‡∏ä‡πá‡∏≠‡∏Å‡πÇ‡∏Å‡πÅ‡∏•‡∏ï‡∏ã‡∏≠‡∏™</div>
                                <div style="font-size: 12px; color: #999;">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏™‡∏´‡∏ß‡∏≤‡∏ô</div>
                            </div>
                            <div class="addon-price">+‡∏ø10</div>
                        </div>
                        <div class="addon-item" onclick="toggleAddon(this, 5)">
                            <input type="checkbox" class="addon-checkbox" data-addon-id="5">
                            <div class="addon-info">
                                <div class="addon-name">‡∏ô‡∏°‡∏Ç‡πâ‡∏ô‡∏´‡∏ß‡∏≤‡∏ô</div>
                                <div style="font-size: 12px; color: #999;">‡∏´‡∏ß‡∏≤‡∏ô‡∏°‡∏±‡∏ô</div>
                            </div>
                            <div class="addon-price">+‡∏ø5</div>
                        </div>
                    </div>
                </div>

                <!-- Special Note -->
                <div class="customize-section">
                    <h4>üìù ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏‡∏û‡∏¥‡πÄ‡∏®‡∏©</h4>
                    <textarea class="note-input" id="specialNote" placeholder="‡∏£‡∏∞‡∏ö‡∏∏‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏û‡∏¥‡πÄ‡∏®‡∏©..."></textarea>
                </div>

                <!-- Quantity -->
                <div class="customize-section">
                    <h4>üî¢ ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô</h4>
                    <div class="quantity-controls" style="justify-content: center; border: none; padding: 0;">
                        <button class="qty-btn" onclick="changeQuantity(-1)">‚àí</button>
                        <span class="quantity" id="modalQuantity" style="font-size: 24px; min-width: 50px;">1</span>
                        <button class="qty-btn" onclick="changeQuantity(1)">+</button>
                    </div>
                </div>
            </div>

            <div class="modal-footer">
                <button class="btn-modal btn-cancel" onclick="closeModal()">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
                <button class="btn-modal btn-add" onclick="addToCart()">
                    ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏•‡∏á‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤ ‚Ä¢ <span id="modalTotalPrice">‡∏ø0</span>
                </button>
            </div>
        </div>
    </div>
<!-- Add Menu Modal -->
<div id="addMenuModal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h3>‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏°‡∏ô‡∏π‡πÉ‡∏´‡∏°‡πà</h3>
        </div>

        <div class="modal-body">
            <div class="add-section">
                <label for="menuName">‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏°‡∏ô‡∏π</label>
                <input type="text" id="menuName" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏°‡∏ô‡∏π..." class="input-field">
            </div>

            <div class="add-section">
                <label for="menuPrice">‡∏£‡∏≤‡∏Ñ‡∏≤ (‡∏ø)</label>
                <input type="number" id="menuPrice" placeholder="0.00" class="input-field" step="0.01">
            </div>

            <div class="add-section">
                <label for="menuImage">‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡πÄ‡∏°‡∏ô‡∏π</label>
                <input type="file" id="menuImage" accept="image/*" class="input-field">
            </div>
            <!-- Ingredient Selection -->
            <div class="add-section">
                <h4>‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö</h4>
                <div id="ingredientList">
                    <div class="ingredient-item" th:each="ing : ${ingredients}">
                        <input type="checkbox" class="ingredient-checkbox" th:attr="data-id=${ing.id}">
                        <label th:text="${ing.name}">‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö</label>
                        <input type="number" class="ingredient-qty" min="0" step="0.01" placeholder="‡∏à‡∏≥‡∏ô‡∏ß‡∏ô" th:attr="data-unit=${ing.unit}">
                        <span th:text="${ing.unit}">‡∏´‡∏ô‡πà‡∏ß‡∏¢</span>
                    </div>
                </div>
            </div>
        <div class="modal-footer">
            <button class="btn-modal btn-cancel" onclick="closeAddMenuModal()">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
            <button class="btn-modal btn-add" onclick="submitNewMenu()">‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏°‡∏ô‡∏π</button>
        </div>
    </div>
</div>


<script th:src="@{/js/script.js}"></script>
</body>
</html>
